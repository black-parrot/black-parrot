variables:
  DOCKER_DRIVER: overlay2
  GIT_STRATEGY: fetch
  GIT_SUBMODULE_STRATEGY: none

pass-job:
  script:
    - echo "Passing job 1"
    - exit 0

#fail-job:
#  script:
#    - echo "Failing job 2"
#    - exit 1 

regress-job:
  before_script:
    - echo "Fetching Basejump STL"
    - git submodule update --init -- basejump_stl
    - echo "Building test programs"
    - make progs

  script:
    - echo "Running Verilator regression"
    - cd bp_top/syn
    - make regress.sc
    - exit 0

